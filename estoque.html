<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Controle de Estoque - Oliveira Soluções Bélicas</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
<style>
  :root {
    --preto: #0a0a0a;
    --cinza-escuro: #1a1a1a;
    --cinza: #333333;
    --cinza-claro: #666666;
    --branco: #f0f0f0;
    --azul-neon: rgba(0, 120, 215, 0.7);
    --azul-neon-solid: #0078d7;
    --destaque: #c0c0c0;
    --verde: #25d366;
    --vermelho: #ff4444;
  }
  body {
    background-color: var(--preto);
    color: var(--branco);
    font-family: "Segoe UI", "Roboto", sans-serif;
    margin: 0;
    padding: 2rem;
  }
  h1 {
    text-align: center;
    color: var(--azul-neon-solid);
    margin-bottom: 2rem;
    text-transform: uppercase;
  }
  #estoque-container {
    display: grid;
    grid-template-columns: repeat(auto-fill,minmax(320px,1fr));
    gap: 1.8rem;
    max-width: 1200px;
    margin: 0 auto;
  }
  .item-estoque {
    background: linear-gradient(145deg, var(--cinza-escuro), var(--preto));
    border: 1px solid var(--cinza);
    border-radius: 6px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    overflow: hidden;
    display: flex;
    flex-direction: column;
    transition: box-shadow 0.3s ease;
  }
  .item-estoque:hover {
    box-shadow: 0 8px 25px var(--azul-neon-solid);
  }
  .item-img {
    width: 100%;
    height: 180px;
    overflow: hidden;
    flex-shrink: 0;
  }
  .item-img img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.5s ease;
  }
  .item-estoque:hover .item-img img {
    transform: scale(1.1);
  }
  .item-info {
    padding: 1rem 1.5rem 1.5rem;
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }
  .item-nome {
    font-weight: 700;
    font-size: 1.2rem;
    margin-bottom: 0.6rem;
    color: var(--destaque);
  }
  .item-desc {
    flex-grow: 1;
    font-size: 0.9rem;
    color: var(--cinza-claro);
    margin-bottom: 1rem;
  }
  .item-preco {
    font-weight: 700;
    font-size: 1.3rem;
    color: var(--verde);
    margin-bottom: 1rem;
  }
  .controle-estoque {
    display: flex;
    align-items: center;
    gap: 0.8rem;
  }
  .quantidade {
    font-size: 1.1rem;
    font-weight: 700;
    min-width: 40px;
    text-align: center;
    color: var(--azul-neon-solid);
  }
  button {
    background: var(--azul-neon-solid);
    border: none;
    padding: 0.3rem 0.7rem;
    border-radius: 4px;
    color: var(--branco);
    cursor: pointer;
    font-size: 1.1rem;
    transition: background 0.3s ease;
    user-select: none;
  }
  button:hover {
    background: var(--destaque);
    color: var(--preto);
  }
  #historico {
    max-width: 1200px;
    margin: 2rem auto 0;
    background: var(--cinza-escuro);
    border-radius: 6px;
    padding: 1rem 1.5rem;
    max-height: 200px;
    overflow-y: auto;
    font-size: 0.9rem;
    color: var(--cinza-claro);
  }
  #historico h2 {
    color: var(--destaque);
    margin-bottom: 1rem;
    font-size: 1.2rem;
  }
</style>
</head>
<body>

<h1>Controle de Estoque</h1>

<div id="estoque-container"></div>

<div id="historico">
  <h2>Histórico de alterações</h2>
  <ul id="lista-historico"></ul>
</div>

<script>
  const produtos = [
    {
      id: 6,
      nome: "Alicate Multifuncional",
      descricao: "Ferramenta prática com múltiplas funções, design robusto e acabamento preto.",
      preco: 54.9,
      imagem: "https://i.imgur.com/i4kSoZV.jpeg",
      estoque: 10
    },
    {
      id: 7,
      nome: "Bússula Profissional C/Lupa",
      descricao: "Bússola com lupa integrada para navegação precisa em campo.",
      preco: 74.9,
      imagem: "https://i.imgur.com/younn6i.jpeg",
      estoque: 8
    },
    {
      id: 8,
      nome: "Butterfly",
      descricao: "Canivete estilo borboleta com lâmina resistente e design ergonômico.",
      preco: 64.9,
      imagem: "https://i.imgur.com/mXxwzKw.jpeg",
      estoque: 12
    },
    {
      id: 12,
      nome: "Canivete Boker",
      descricao: "Canivete Boker com lâmina afiada para uso diário.",
      preco: 110.0,
      imagem: "https://i.imgur.com/AqXoaof.jpeg",
      estoque: 5
    },
    {
      id: 13,
      nome: "Canivetes Browning",
      descricao: "Conjunto de canivetes Browning, ideais para colecionadores e uso prático.",
      preco: 99.9,
      imagem: "https://i.imgur.com/WcTxGkB.jpeg",
      estoque: 7
    },
    {
      id: 14,
      nome: "Faca Command",
      descricao: "Faca tática com lâmina resistente e empunhadura ergonômica.",
      preco: 119.9,
      imagem: "https://i.imgur.com/72jE5Za.jpeg",
      estoque: 6
    },
    {
      id: 15,
      nome: "Faca Operações",
      descricao: "Faca operacional com lâmina afiada e design para uso intenso.",
      preco: 149.9,
      imagem: "https://i.imgur.com/hXkqJgn.jpeg",
      estoque: 4
    },
    {
      id: 17,
      nome: "Faca Operações TAM",
      descricao: "Faca operacional tamanho TAM, ideal para diversas situações táticas.",
      preco: 149.9,
      imagem: "https://i.imgur.com/8tPGBSS.jpeg",
      estoque: 3
    },
    {
      id: 18,
      nome: "Faca Pescoço",
      descricao: "Faca de pescoço, compacta e eficiente para defesa pessoal.",
      preco: 64.9,
      imagem: "https://i.imgur.com/3n7vqVH.jpeg",
      estoque: 9
    },
    {
      id: 19,
      nome: "Faca Pescoço Caveira",
      descricao: "Faca de pescoço com desenho de caveira, ideal para colecionadores.",
      preco: 64.9,
      imagem: "https://i.imgur.com/xIUkdNv.jpeg",
      estoque: 5
    },
    {
      id: 20,
      nome: "Faca Tática G",
      descricao: "Faca tática grande, com lâmina resistente e empunhadura firme.",
      preco: 149.9,
      imagem: "https://i.imgur.com/l8bYZ1n.jpeg",
      estoque: 7
    },
    {
      id: 21,
      nome: "Faca Tática Rambo",
      descricao: "Faca tática estilo Rambo, com lâmina robusta e design agressivo.",
      preco: 149.9,
      imagem: "https://i.imgur.com/RplwguL.jpeg",
      estoque: 6
    },
    {
      id: 22,
      nome: "Karambit",
      descricao: "Faca karambit com lâmina curva para uso tático e defesa pessoal.",
      preco: 64.9,
      imagem: "https://i.imgur.com/E4sDOWv.jpeg",
      estoque: 8
    },
    {
      id: 24,
      nome: "Kit Garrafa Térmica",
      descricao: "Garrafa térmica, mantém bebidas quentes ou frias por horas.",
      preco: 79.9,
      imagem: "https://i.imgur.com/3YqMzxq.jpeg",
      estoque: 11
    },
    {
      id: 27,
      nome: "Kit Sobrevivência",
      descricao: "Kit completo de sobrevivência com ferramentas essenciais.",
      preco: 149.9,
      imagem: "https://i.imgur.com/x4Luk0W.jpeg",
      estoque: 5
    },
    {
      id: 28,
      nome: "Kit Talher",
      descricao: "Conjunto de talheres, prático e portátil para camping e trilhas.",
      preco: 49.9,
      imagem: "", // Sem imagem
      estoque: 20
    },
    {
      id: 29,
      nome: "Lanterna Caça AEGIS",
      descricao: "Lanterna tática para caça, com alta luminosidade e design compacto.",
      preco: 419.9,
      imagem: "https://i.imgur.com/placeholder-lanterna-caca.jpg",
      estoque: 3
    },
    {
      id: 30,
      nome: "Lanterna Pistola LP-08 AEGIS",
      descricao: "Lanterna de pistola com alta potência e foco ajustável.",
      preco: 549.9,
      imagem: "https://i.imgur.com/placeholder-lanterna-pistola.jpg",
      estoque: 2
    },
    {
      id: 31,
      nome: "Lanterna Tática TL-08 AEGIS",
      descricao: "Lanterna tática compacta com múltiplos modos de iluminação.",
      preco: 349.9,
      imagem: "https://i.imgur.com/placeholder-lanterna-tatica.jpg",
      estoque: 4
    },
    {
      id: 32,
      nome: "Laser Segurança",
      descricao: "Laser apontador para segurança, com design discreto e alta precisão.",
      preco: 79.9,
      imagem: "https://i.imgur.com/placeholder-laser.jpg",
      estoque: 9
    },
    {
      id: 33,
      nome: "Pederneira",
      descricao: "Pederneira para ignição de fogo, resistente e fácil de usar.",
      preco: 49.9,
      imagem: "https://i.imgur.com/placeholder-pederneira.jpg",
      estoque: 15
    },
    {
      id: 34,
      nome: "Pulseira Tática",
      descricao: "Pulseira tática feita com material resistente para uso diário.",
      preco: 49.9,
      imagem: "https://i.imgur.com/placeholder-pulseira.jpg",
      estoque: 12
    },
    {
      id: 37,
      nome: "Soco Inglês",
      descricao: "Soco inglês com acabamento resistente e design anatômico.",
      preco: 64.9,
      imagem: "https://i.imgur.com/placeholder-soco-ingles.jpg",
      estoque: 7
    },
    {
      id: 38,
      nome: "Spray Pimenta",
      descricao: "Spray de pimenta, compacto e eficaz para defesa pessoal.",
      preco: 129.9,
      imagem: "https://i.imgur.com/placeholder-spray-pimenta.jpg",
      estoque: 6
    },
    {
      id: 39,
      nome: "Taser",
      descricao: "Eletrochoque tático, potente e seguro para defesa pessoal.",
      preco: 149.9,
      imagem: "https://i.imgur.com/placeholder-taser.jpg",
      estoque: 4
    }
  ];

  const container = document.getElementById("estoque-container");
  const historicoLista = document.getElementById("lista-historico");

  function criarItemEstoque(produto) {
    return `
      <article class="item-estoque" data-id="${produto.id}">
        <div class="item-img">
          <img src="${produto.imagem || 'https://via.placeholder.com/320x180?text=Sem+imagem'}" alt="${produto.nome}" />
        </div>
        <div class="item-info">
          <div>
            <h3 class="item-nome">${produto.nome}</h3>
            <p class="item-desc">${produto.descricao}</p>
            <div class="item-preco">R$ ${produto.preco.toFixed(2).replace('.', ',')}</div>
          </div>
          <div class="controle-estoque">
            <button onclick="alterarEstoque(${produto.id}, -1)" aria-label="Diminuir estoque de ${produto.nome}">-</button>
            <div class="quantidade" id="quantidade-${produto.id}">${produto.estoque}</div>
            <button onclick="alterarEstoque(${produto.id}, 1)" aria-label="Aumentar estoque de ${produto.nome}">+</button>
          </div>
        </div>
      </article>
    `;
  }

  function renderizarEstoque() {
    container.innerHTML = "";
    produtos.forEach(produto => {
      container.insertAdjacentHTML("beforeend", criarItemEstoque(produto));
    });
  }

  function alterarEstoque(id, delta) {
    const produto = produtos.find(p => p.id === id);
    if (!produto) return;

    const novaQuantidade = produto.estoque + delta;
    if (novaQuantidade < 0) return; // Não permitir estoque negativo

    produto.estoque = novaQuantidade;

    // Atualiza a quantidade na tela
    const quantidadeElem = document.getElementById(`quantidade-${id}`);
    if (quantidadeElem) {
      quantidadeElem.textContent = produto.estoque;
    }

    // Adiciona ao histórico
    adicionarAoHistorico(produto.nome, delta);
  }

  function adicionarAoHistorico(nomeProduto, delta) {
    const acao = delta > 0 ? "adicionado" : "removido";
    const quantidade = Math.abs(delta);
    const dataHora = new Date().toLocaleString("pt-BR");

    const log = document.createElement("li");
    log.textContent = `[${dataHora}] ${quantidade} unidade(s) ${acao} em "${nomeProduto}"`;

    historicoLista.prepend(log);

    // Limitar histórico a 20 entradas
    if (historicoLista.children.length > 20) {
      historicoLista.removeChild(historicoLista.lastChild);
    }
  }

  // Inicializa a renderização
  renderizarEstoque();
</script>

</body>
</html>
